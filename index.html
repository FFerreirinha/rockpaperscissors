<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>

        const options = [ "paper", "scissors", "rock" ];

        function computerPlay() {
            let randomNum = Math.floor(Math.random()*3);
            //console.log(options[randomNum]);
            return options[randomNum];                      // Computer generates a random number to then pick a random option
        }

        function playerPlay() {
            return prompt("Please pick between Rock, Paper, Scissors!").toLowerCase();      // Getting player input and sanitizing input with .toLowerCase method
        }

        function playRound() {

            // Determining Player and Computer choices
            computerSelection = computerPlay();
            playerSelection = playerPlay();

            // Rock Paper Scissors Logic
            if (computerSelection === "rock") {
                switch(playerSelection) {
                    case "paper":
                        console.log("You win! Paper beats Rock!");
                        return "winner";
                        break;
                    case "scissors":
                        console.log("You lose! Rock beats Scissors!");
                        return "loser";
                        break;
                    case "rock":
                        console.log("It's a tie! You both picked Rock!");
                        return "tie";
                        break;
                }
            } 
            else if (computerSelection === "paper") {
                switch(playerSelection) { 
                    case "scissors":
                        console.log("You win! Scissors beats Paper!");
                        return "winner";
                        break;
                    case "rock":
                        console.log("You lose! Paper beats Rock!");
                        return "loser";
                        break;
                    case "paper":
                        console.log("It's a tie! You both picked Paper!");
                        return "tie";
                        break;
                }
            }
            else if (computerSelection === "scissors") {
                switch(playerSelection) { 
                    case "rock":
                        console.log("You win! Rock beats Scissors!");
                        return "winner";
                        break;
                    case "paper":
                        console.log("You lose! Scissors beats Paper!");
                        return "loser";
                        break;
                    case "scissors":
                        console.log("It's a tie! You both picked Scissors!");
                        return "tie";
                        break;
                }
            }
        }

        function game() {
            
            let playerTally = 0;
            let computerTally = 0;

            for (i = 0; i < 5; i++) {

                let result = playRound();

                if (result === "winner") {
                    playerTally += 1;
                }
                else if (result === "loser") {
                    computerTally += 1;
                } 
                else {
                    continue;
                }

                console.log(`Player: ${playerTally}    Computer:${computerTally}`);
            }

            if (playerTally > computerTally) {
                console.log("You have won! Congratulations!");
            }
            else if (computerTally > playerTally) {
                console.log("You have lost...Better luck next time!");
            }
            else {
                console.log("Twas a tie! Do not quit without getting your tiebreaker in!");
            }

        }
        
        game();
        
    </script>
</body>
</html>